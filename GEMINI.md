# AI 팀 빌딩 매니저 프로젝트 PLAN

## 1. 프로젝트 목표

- 소규모 개발팀(특히 부트캠프 등)의 **역할 분배/팀 빌딩**을 AI가 자동화, 최적화해주는 웹앱
- 각 팀원의 역량·경험·협업스타일 등을 AI가 대화형 설문으로 분석 → 최적의 역할 배분
- **AI 챗봇** 기반 대화 흐름, 팀원 초대, 자동 채팅방, 직관적인 시각화 대시보드까지 제공

---

## 2. 전체 사용자 흐름

1.  **첫 방문**
    - AI 비서가 인사하며 등장(자동 메시지)
    - [프로젝트 생성] 버튼 표시

2.  **프로젝트 생성 플로우**
    - 프로젝트명/목표 등 기본 정보 입력 (AI와 대화)
    - [팀원 초대] 버튼 제공 (카카오톡/링크 등으로 공유)

3.  **팀원 초대/참여**
    - 초대된 팀원은 설문 링크로 입장 → 간단한 프로필/이메일 입력

4.  **팀원별 AI 설문**
    - AI가 각 팀원에게 맞춤 질문
      (기술스택 경험, 협업 선호도, 실제 사례 등)
    - 모든 설문 응답은 DB에 저장

5.  **AI 역할 추천/배분**
    - 모든 설문 완료시, AI가 각 팀원의 "비교우위/적합역할"을 분석
    - 대시보드에 역할 추천 결과 시각화, 수동 조정 가능

6.  **팀 채팅방 자동 생성**
    - 역할 분배가 끝나면, 해당 프로젝트 팀 채팅방 생성
    - 모든 팀원이 실시간 소통 가능

---

### 3.0. 기술 스택 및 핵심 인프라

이 프로젝트는 Vercel의 `ai-chatbot` 템플릿을 기반으로 커스터마이징됩니다.

-   **기반 템플릿**: [Vercel ai-chatbot 템플릿](https://github.com/vercel/ai-chatbot)
-   **프레임워크**: Next.js (App Router 기반)
-   **UI/UX**:
    -   **디자인 언어**: 기존 `ai-chatbot` 프로젝트의 디자인 언어와 일관성을 유지합니다.
    -   **컴포넌트 라이브러리**: `shadcn/ui` 컴포넌트를 적극적으로 활용합니다. (예: `Card`, `Button`, `Input`, `Textarea` 등)
    -   **스타일링**: Tailwind CSS를 사용하며, 기존 `ai-chatbot` 템플릿에서 사용되는 Tailwind CSS 클래스 컨벤션(예: `bg-background`, `text-foreground`, `border`, `shadow-sm`, `rounded-md`, `px-4`, `py-2` 등)을 최대한 따릅니다.
-   **데이터 처리**:
    -   **백엔드 로직**: Next.js Server Actions를 활용하여 데이터 처리 로직을 구현합니다.
    -   **데이터베이스**: PostgreSQL 호환 데이터베이스 (예: Neon)를 사용하며, `DATABASE_URL`, `PG*`, `POSTGRES*` 환경 변수를 통해 연결됩니다. **Drizzle ORM**을 사용하여 `lib/db/schema.ts`에 스키마를 정의하고 `lib/db/queries.ts`를 통해 데이터베이스 작업을 수행합니다.
-   **인증**: **NextAuth.js**를 사용하여 인증을 처리하며, **Google 및 Kakao OAuth**를 주요 인증 제공자로 사용합니다. `AUTH_SECRET` 환경 변수가 사용됩니다.
-   **AI**: **Google Gemini API**를 활용하며, `GEMINI_API_KEY` 환경 변수를 통해 연동됩니다. AI는 팀원 설문 분석 및 역할 추천에 사용됩니다.
-   **기타 인프라 (향후 활용 가능성)**:
    -   `BLOB_READ_WRITE_TOKEN`: Vercel Blob Storage (파일 업로드 등)
    -   `KV_REST_API_*`, `KV_URL`, `REDIS_URL`: Vercel KV 또는 Redis (캐싱, 실시간 데이터 등)
    -   `NEXT_PUBLIC_STACK_*`, `STACK_SECRET_SERVER_KEY`, `VERCEL_OIDC_TOKEN`: Vercel AI Chatbot 템플릿의 특정 기능 또는 Vercel 플랫폼 연동에 사용될 수 있습니다. 프로젝트 진행에 따라 필요 여부를 판단합니다.
-   **파일 구조**: `app` 라우터 기반의 Next.js 프로젝트이며, `components`, `lib` 등의 기존 폴더 구조를 따릅니다. `use client` 지시어는 클라이언트 측 상호작용이 필요한 컴포넌트에만 사용합니다.
-   **참고**: 본 프로젝트는 `vercel/ai-chatbot` 템플릿을 커스터마이징하므로, 현재 프로젝트 목표와 관련 없는 파일들이 포함되어 있을 수 있습니다.

---

## 3. 프로젝트 구현 상세 및 진행 상황

이 섹션에서는 각 기능의 구현 상세, 현재 진행 상황, 그리고 관련 파일 및 역할에 대해 설명합니다.

### 3.1. AI가 최초 인사 및 안내

-   **진행 상황**: 완료 [x]
-   **역할 및 연결 지점**:
    -   `app/(chat)/page.tsx`는 이제 로그인 후 첫 화면에서 `components/greeting.tsx` 컴포넌트를 렌더링합니다.
    -   `Greeting` 컴포넌트의 "새 프로젝트 생성" 버튼을 클릭하면 `app/(chat)/page.tsx`에 구현된 핸들러 함수를 통해 `/projects` 페이지로 이동합니다.
-   **관련 파일/디렉토리**:
    -   `app/layout.tsx`: 전역 레이아웃 (Greeting 컴포넌트 직접 렌더링하지 않음)
    -   `app/(chat)/page.tsx`: 메인 챗 페이지 (Greeting 컴포넌트 직접 렌더링하지 않음)
    -   `components/greeting.tsx`: 초기 인사말 및 버튼 UI (현재 메인 흐름에 미통합)
    -   `app/projects/page.tsx`: "새 프로젝트 시작" 버튼 클릭 시 이동할 대상 페이지 (존재 확인)
    -   `lib/ai/prompts.ts`: AI 초기 프롬프트 정의 (Google Gemini API를 활용하여 정의 필요)

### 3.2. 프로젝트 생성/정보입력/AI 챗 대화 흐름

-   **진행 상황**: 부분 구현 [ ] (프로젝트 목록 및 생성 UI는 존재하나, AI 챗봇 연동 및 상세 로직은 미구현)
-   **역할 및 연결 지점**:
    -   사용자가 프로젝트 목록을 확인하고 새로운 프로젝트를 생성하는 핵심 페이지입니다.
    -   `app/projects/page.tsx`에서 프로젝트 목록 표시 및 생성 폼을 제공합니다. 현재 프로젝트 목록은 정적이며, 프로젝트 생성 로직은 콘솔 로그만 출력하고 백엔드 연동은 되어 있지 않습니다.
    -   프로젝트 생성 시 AI 챗봇과의 대화 흐름을 통해 프로젝트 정보를 입력받는 기능은 아직 구현되지 않았습니다.
-   **관련 파일/디렉토리**:
    -   `app/projects/page.tsx`: 프로젝트 목록 및 생성 UI (존재 확인, 핵심 로직 미구현)
    -   `app/projects/[id]/page.tsx`: 개별 프로젝트 상세 페이지 (미존재, 향후 구현 예정)
    -   `app/(chat)/actions.ts`: 챗봇과의 대화 처리 (Server Actions) (존재 확인, 연동 필요)
    -   `components/chat.tsx`: 챗 UI 컴포넌트 (존재 확인, 재사용 또는 확장 필요)
    -   `lib/ai/prompts.ts`: 프로젝트 생성 관련 AI 프롬프트 (Google Gemini API를 활용하여 정의 필요)
    -   `lib/db/schema.ts`: `Project` 테이블 스키마 정의 (Drizzle ORM을 사용하여 정의 필요)
    -   `lib/db/queries.ts`: 프로젝트 관련 DB 쿼리 함수 (Drizzle ORM을 사용하여 구현 필요)

### 3.3. 팀원 초대/참여/설문 링크 발급

-   **진행 상황**: 미구현 [ ]
-   **역할 및 연결 지점**:
    -   생성된 프로젝트에 팀원을 초대하기 위한 페이지입니다.
    -   초대 링크를 표시하고 복사 기능을 제공하며, 이 링크를 통해 팀원이 설문 페이지로 접근하게 됩니다.
    -   관련 페이지 파일이 아직 생성되지 않았습니다.
-   **관련 파일/디렉토리**:
    -   `app/projects/[id]/invite/page.tsx`: 팀원 초대 UI (미존재)
    -   `lib/db/schema.ts`: `TeamMember` 테이블 스키마 정의 (Drizzle ORM을 사용하여 정의 필요)
    -   `lib/utils.ts`: 초대 링크 생성 유틸리티 함수 (구현 필요)

### 3.4. AI 설문(개별 맞춤형) → 응답 DB 저장

-   **진행 상황**: 미구현 [ ]
-   **역할 및 연결 지점**:
    -   초대된 팀원들이 자신의 역량, 경험, 협업 스타일 등을 AI의 질문에 따라 응답하는 페이지입니다.
    -   응답은 DB에 저장되며, 이를 바탕으로 AI가 역할 추천을 수행합니다.
    -   관련 페이지 및 액션 파일이 아직 생성되지 않았습니다.
-   **관련 파일/디렉토리**:
    -   `app/projects/[id]/survey/page.tsx`: 설문 UI (미존재)
    -   `app/projects/[id]/survey/actions.ts`: 설문 응답 처리 (Server Actions) (미존재)
    -   `lib/ai/prompts.ts`: 동적 설문 질문 생성 AI 프롬프트 (Google Gemini API를 활용하여 정의 필요)
    -   `lib/db/schema.ts`: `SurveyResponse` 테이블 스키마 정의 (Drizzle ORM을 사용하여 정의 필요)
    -   `lib/db/queries.ts`: 설문 응답 저장 DB 쿼리 함수 (Drizzle ORM을 사용하여 구현 필요)

### 3.5. AI 역할 추천/시각화/수동조정

-   **진행 상황**: 미구현 [ ]
-   **역할 및 연결 지점**:
    -   모든 팀원의 설문 응답을 바탕으로 AI가 최적의 역할을 추천하고, 이를 시각적으로 보여주는 대시보드 페이지입니다.
    -   사용자는 추천된 역할을 수동으로 조정할 수 있습니다.
-   **관련 파일/디렉토리**:
    -   `app/projects/[id]/dashboard/page.tsx`: 역할 추천 대시보드 UI (미존재)
    -   `app/projects/[id]/dashboard/actions.ts`: 역할 조정 처리 (Server Actions) (미존재)
    -   `components/chart-visualization.tsx`: 역할 시각화 컴포넌트 (미존재)
    -   `lib/ai/tools/assign-roles.ts`: AI 역할 할당 로직 (Google Gemini API 및 AI SDK Tools 활용 예정)
    -   `lib/db/schema.ts`: `RoleAssignment` 테이블 스키마 정의 (Drizzle ORM을 사용하여 정의 필요)
    -   `lib/db/queries.ts`: 역할 할당 관련 DB 쿼리 함수 (Drizzle ORM을 사용하여 구현 필요)

### 3.6. 팀 채팅방 자동 생성/실시간 소통

-   **진행 상황**: 미구현 [ ]
-   **역할 및 연결 지점**:
    -   역할 분배가 완료된 팀원들이 실시간으로 소통할 수 있는 채팅방 페이지입니다.
-   **관련 파일/디렉토리**:
    -   `app/projects/[id]/chat-room/page.tsx`: 팀 채팅방 UI (미존재)
    -   `app/projects/[id]/chat-room/actions.ts`: 채팅 메시지 처리 (Server Actions) (미존재)
    -   `components/chat.tsx`: 챗 UI 컴포넌트 (존재 확인, 재사용 또는 확장 필요)
    -   `lib/db/schema.ts`: `ChatRoom`, `ChatMessage` 테이블 스키마 정의 (Drizzle ORM을 사용하여 정의 필요)
    -   `lib/db/queries.ts`: 채팅 메시지 관련 DB 쿼리 함수 (Drizzle ORM을 사용하여 구현 필요)
    -   (선택) 실시간 통신 라이브러리 연동 (예: Pusher, Ably 등)

### 3.7. 관리 대시보드 (추후 확장)

-   **진행 상황**: 미구현 [ ]
-   **역할 및 연결 지점**:
    -   프로젝트 관리자가 전체 프로젝트 현황을 파악하고 관리할 수 있는 대시보드입니다. (추후 구현)

---

## 4. 코드 생성 컨텍스트 및 디자인 지침 (Gemini CLI 에이전트가 ORDER.md에 포함할 내용)

코드를 생성할 때 다음 지침을 **반드시** 준수해주세요.

-   **기반 템플릿**: [Vercel ai-chatbot 템플릿](https://github.com/vercel/ai-chatbot)
-   **디자인 언어**: 기존 `ai-chatbot` 프로젝트의 디자인 언어와 일관성을 유지해야 합니다.
-   **컴포넌트 라이브러리**: `shadcn/ui` 컴포넌트를 적극적으로 활용해주세요. (예: `Card`, `Button`, `Input`, `Textarea` 등)
-   **스타일링**: Tailwind CSS를 사용하며, 기존 `ai-chatbot` 템플릿에서 사용되는 Tailwind CSS 클래스 컨벤션(예: `bg-background`, `text-foreground`, `border`, `shadow-sm`, `rounded-md`, `px-4`, `py-2` 등)을 최대한 따릅니다.
-   **파일 구조**: `app` 라우터 기반의 Next.js 프로젝트이며, `components`, `lib` 등의 기존 폴더 구조를 따릅니다.
-   **Server Actions**: 데이터 처리 로직은 가능한 경우 Next.js Server Actions를 활용하는 방식으로 구현합니다.
-   **`use client`**: 클라이언트 측 상호작용이 필요한 컴포넌트에만 `use client` 지시어를 사용합니다.

---

## 5. 프로젝트 협업 원칙 및 Gemini CLI 에이전트 운영 가이드라인

저는 사용자님의 개발 보조 에이전트이자 이 프로젝트의 **내부 AI**입니다. 다음 원칙에 따라 프로젝트를 지원합니다.

-   **역할**: 사용자님의 지시에 따라 코드를 생성, 수정, 관리하며 개발 과정을 돕습니다.
-   **목표**: 효율적이고 안전한 개발 지원을 통해 프로젝트 목표 달성을 돕습니다.
-   **작업 방식**:
    -   **코드 생성 요청**: 새로운 코드 구현이 필요할 때, 제가 직접 프로젝트 내의 `ORDER.md` 파일을 생성하거나 수정하여 사용자님께 제시합니다. 이 `ORDER.md` 내용에는 다음이 포함됩니다.
        -   **최상단 커밋 메시지**: 해당 작업 완료 후 사용자님이 바로 사용할 수 있는 `git add . && git commit -m """..."""` 명령어를 한국어로 제공합니다.
        -   **코드 생성 컨텍스트**: `4. 코드 생성 컨텍스트 및 디자인 지침` 섹션의 전체 내용을 포함하여, 외부 AI가 코드를 생성하는 데 필요한 모든 배경 정보를 제공합니다.
        -   **외부 AI를 위한 구체적인 프롬프트**: 구현할 기능에 대한 상세 요구사항과 함께, 외부 AI가 코드를 생성할 수 있도록 명확하고 구체적인 지시를 포함합니다. **각 `ORDER.md`는 단 하나의 파일에 대한 코드 생성 또는 수정을 요청해야 합니다.**
        -   **코드 삽입을 위한 플레이스홀더**: 외부 AI가 생성한 코드를 사용자님께서 직접 붙여넣을 수 있도록 명확한 주석 처리된 플레이스홀더를 제공합니다.
    -   **코드 적용**: 사용자님께서 제가 제시한 `ORDER.md` 내용을 확인하고, 외부 AI를 통해 코드를 생성한 후 해당 코드를 `ORDER.md`의 지정된 위치에 정확히 붙여넣어 저에게 전달해 주십시오. 제가 `ORDER.md`에 작성된 코드를 읽고, 해당 코드를 바탕으로 프로젝트 파일을 생성하거나 수정합니다.
    -   **진행 상황 업데이트**: 코드 변경 또는 기능 구현 완료 시, `PLAN.md`의 `3. 프로젝트 구현 상세 및 진행 상황` 섹션을 현재 구현 상태(완료 [x] 또는 미구현 [ ])에 맞춰 정확하게 업데이트합니다.
    -   **Git 커밋**: 작업 완료 후, 사용자님이 바로 사용할 수 있는 `git add . && git commit -m """..."""` 명령어를 제공합니다. (이는 `ORDER.md` 최상단에 미리 제공됩니다.)
    -   **다음 단계 제안**: 현재 작업이 완료되면, 제가 **새로운 `ORDER.md` 파일을 생성하여 다음 논리적인 단계를 사용자님께 제안함**을 명시합니다. (즉, 다음 작업 지시도 `ORDER.md`를 통해 이루어짐)
    -   **컨벤션 준수**: 기존 코드베이스의 컨벤션(스타일, 구조, 네이밍 등)을 최대한 준수합니다.
    -   **안전 및 확인**: 파일 시스템이나 코드베이스에 중요한 변경을 가하기 전에는 항상 그 목적과 잠재적 영향을 설명하고 사용자님의 확인을 요청합니다.
    -   **오류 보고**: 오류가 발생할 경우 사용자에게 즉시 보고하고, 가능한 해결 방안을 제시합니다.
-   **제한 사항**:
    -   사용자님의 명시적인 지시 없이는 임의로 코드 수정/생성/삭제를 하지 않습니다.
    -   보안 및 안전 규칙을 최우선으로 준수하며, 민감한 정보(API 키, 비밀 등)를 코드에 노출하지 않습니다.
    -   대화형 셸 명령(예: `npm init`과 같이 사용자 입력을 요구하는 명령)은 지원하지 않으며, 비대화형 옵션(`npm init -y`)을 선호합니다.
-   **사용자님과의 약속**:
    -   **명확한 지시**: `ORDER.md`에 명확하고 구체적인 코드 요청을 제공해주시면, 제가 이를 정확히 이해하고 반영할 수 있도록 최선을 다하겠습니다.
    -   **코드 제공**: 요청된 코드를 다른 AI 도구로 생성하신 후, `ORDER.md`의 지정된 위치에 정확히 붙여넣어 주시면 제가 다음 작업을 진행할 수 있습니다.
    -   **피드백**: 진행 중 궁금한 점이나 변경 사항, 또는 제가 개선해야 할 부분이 있다면 언제든지 자유롭게 소통해주세요.
    -   **신뢰**: 상호 신뢰를 바탕으로 협업하며, 프로젝트의 성공을 위해 함께 노력하겠습니다.